<html>

<head>
    <meta charset="utf-8">
    <title>Chat</title>
    <link href="/styles.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.js"></script>
    <script>
        // verify token
        if (!localStorage.getItem('token')) {
            window.location.href = "http://localhost:4000/login";
        }
    </script>
</head>

<body>
    <div id="mario-chat">
        <div>
            <h2 class="d-inline">Chat Socket.io</h2>
            <button id="create_group_btn" style="width: 200px; background-color: black ">Criar Grupo</button>
        </div>
        <div id="chat-groups">
            <div id="groups">
            </div>
            <div id="chat-window">
                <div style="width: 100%; flex-direction: row; height: 50px">
                    <button id="add_user_group_btn" style="float: right; width: 25%; margin: 5px">Novo Membro</button>
                    <button id="remove_user_group_btn" style="float: right; width: 25%; margin: 5px">Remover
                        Membro</button>
                    <button id="remove_group" style="float: right; width: 25%; margin: 5px">Remover grupo</button>
                </div>
                <div id="output"></div>
            </div>
        </div>
        <form>
            <input id="handle" type="text" placeholder="UsuÃ¡rio" />
            <input id="message" type="text" placeholder="Mensagem" />
            <button id="send">Enviar</button>
        </form>
    </div>

    <!-- CREATE GROUP MODAL -->
    <div id="create_group_modal" class="modal hide" style="position: absolute; z-index: 999; ">        
        <form class="popup_modal">
            <h1>Criar Grupo</h1>
            <input id="group_name" type="text" placeholder="Nome do Grupo" />
            <button class="submit_modal" id="submit_group">Criar</button>
            <button class="close_modal">x</button>
        </form>
    </div>

    <!-- ADD USER GROUP MODAL -->
    <div id="add_user_group_modal" class="modal hide"
        style="position: absolute; z-index: 999; ">      
        <form class="popup_modal">
            <h1>Adicionar Membro</h1>
            <input id="add_user_email" type="text" placeholder="email" />
            <button class="submit_modal" id="submit_add_user">Adicionar</button>
            <button class="close_modal">x</button>
        </form>
    </div>

    <!-- REMOVE USER GROUP MODAL -->
    <div id="remove_user_group_modal" class="modal hide"
        style="position: absolute; z-index: 999; ">        
        <form class="popup_modal">
            <h1>Remover Membro</h1>
            <input id="remove_user_email" type="text" placeholder="email" />
            <button class="submit_modal" id="submit_remove_user">Remover</button>
            <button class="close_modal">x</button>
        </form>
    </div>

    <script src="js/socket.js"></script>
    <script src="js/client.js"></script>
    <script src="js/group.js"></script>
</body>

</html>